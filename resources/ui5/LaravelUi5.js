sap.ui.define(["com/laravelui5/core/Connection","sap/ui/model/json/JSONModel"],function(e,t){"use strict";let r=null;let n=null;let i={};let a=null;let l;const o=new Promise(e=>{l=e});const s={init(t){r=t;const a=r.getManifestEntry("/sap.app/dataSources/mainService/uri");n=new e(a);i=r.getManifestEntry("/laravel.ui5/settings")||{};this.initModels(t);l();return Promise.resolve()},initModels(e){const r=e.getManifestEntry("/laravel.ui5/routes")||{};e.setModel(new t(r),"routes");const n=e.getManifestEntry("/laravel.ui5/meta")||{};e.setModel(new t(n),"meta")},ready(){return o},can(e){return a?a.can(e):true},authorize(e){return a?a.authorize(e):true},getPartner(){return a?a.getPartner():null},getAuthenticatedPartner(){return a?a.getAuthenticatedPartner():null},getRepresentations(){return a?a.getRepresentations():[]},settings(){return a?a.settings():i},getSetting(e){return a?a.getSetting(e):i[e]},getClient(){return a?a.getClient():null},showHelp(e,t=null){a?.showHelp(e,t)},attach(e,t){a?.attach(e,t)},detach(e,t){a?.detach(e,t)},log(e,t,r){a?a.log(e,t,r):console.log("[LaravelUi5/Core] log: "+e,t)},async call(e,t={},i=null){if(!r)throw new Error("[LaravelUi5] Not initialized.");const a=r.getManifestEntry("/laravel.ui5/actions")||{};const l=a[e];if(!l)throw new Error(`[LaravelUi5] Unknown action '${e}'`);const o=l.url.replace(/{(\w+)}/g,(e,r)=>{if(!(r in t))throw new Error(`[LaravelUi5] Missing param '${r}'`);return encodeURIComponent(t[r])});const s=(l.method||"POST").toUpperCase();const u=`fetch${s.charAt(0)}${s.slice(1).toLowerCase()}`;if(typeof n[u]!=="function"){throw new Error(`[LaravelUi5] Unsupported HTTP method '${s}'`)}return await n[u](o,i)},get(e){return n.fetchGet(e)},post(e,t){return n.fetchPost(e,t)},put(e,t){return n.fetchPut(e,t)},patch(e,t){return n.fetchPatch(e,t)},delete(e,t){return n.fetchDelete(e,t)},fetchXml(e){return n.fetchXml(e)},fetchHtml(e){return n.fetchHtml(e)},fetchEntitySet(e){return n.fetchEntitySet(e)},getMainServiceUri(){return n.getMainServiceUri()},getBaseUrl(){return n.getBaseUrl()}};s.__extend=(e,t,i)=>{if(e){r=e}if(t){n=t}if(i){a=i}l()};return s});
//# sourceMappingURL=LaravelUi5.js.map