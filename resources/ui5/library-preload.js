//@ui5-bundle com/laravelui5/core/library-preload.js
sap.ui.predefine("com/laravelui5/core/BaseComponent", ["sap/ui/core/UIComponent","sap/ui/core/mvc/XMLView","sap/m/Dialog"],function(o,t,n){"use strict";return o.extend("com.laravelui5.core.BaseComponent",{openGlobalDialog:function(o){const e=this;return this.runAsOwner(function(){return t.create({viewName:o,async:true}).then(function(o){const t=o.getContent?.();if(!t||1!==t.length){throw new Error("Global dialog view must have exactly one root control")}const e=t[0];if(!(e instanceof n)){throw new Error("Global dialog view root control must be an instance of sap.m.Dialog")}e.attachAfterClose(function(){e.destroy();o.destroy()});const r=o.getController?.();if(r&&typeof r.initDialog==="function"){e.attachAfterOpen(()=>{r.initDialog(e)})}return e.open()})})}})});
sap.ui.predefine("com/laravelui5/core/BaseController", ["sap/ui/core/mvc/Controller"],function(e){"use strict";return e.extend("com.laravelui5.core.BaseController",{getOwnerComponent:function(){return e.prototype.getOwnerComponent.call(this)},getResourceBundle:function(){const e=this.getOwnerComponent().getModel("i18n");return e.getResourceBundle()},getModel:function(e){return this.getView().getModel(e)},setModel:function(e,t){this.getView().setModel(e,t);return this}})});
sap.ui.predefine("com/laravelui5/core/Connection", ["sap/ui/model/odata/v4/ODataModel"],function(e){"use strict";return class e{constructor(e){if(e&&typeof e==="string"&&e.trim()!==""){this.serviceUrl=e.replace(/\/$/,"");const t=new URL(e,window.location.origin);this.baseUrl=t.origin;console.info("[Connection] serviceUrl set to "+this.serviceUrl.toString())}else{this.baseUrl=window.location.origin;console.info("[Connection] mainService URI not found in manifest.")}console.info("[Connection] baseUrl set to "+this.baseUrl.toString())}getMainServiceUri(){return this.serviceUrl}getBaseUrl(){return this.baseUrl}getXsrfToken(){const e=document.cookie.match(/XSRF-TOKEN=([^;]+)/);return e?decodeURIComponent(e[1]):null}async fetchGet(e){const t=this.getBaseUrl();const n=String(e).trim().replace(/^\/+/,"");const s=await fetch(`${t}/${n}`,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/json","X-XSRF-TOKEN":this.getXsrfToken()}});return await this.handleJsonResponse(s)}async fetchXml(e){const t=this.getBaseUrl();const n=String(e).trim().replace(/^\/+/,"");const s=await fetch(`${t}/${n}`,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/xml","X-XSRF-TOKEN":this.getXsrfToken()}});return await this.handleTextResponse(s)}async fetchHtml(e){const t=this.getBaseUrl();const n=String(e).trim().replace(/^\/+/,"");const s=await fetch(`${t}/${n}`,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"text/html","X-XSRF-TOKEN":this.getXsrfToken()}});return await this.handleTextResponse(s)}async fetchPost(e,t){const n=this.getBaseUrl();const s=String(e).trim().replace(/^\/+/,"");const o=await fetch(`${n}/${s}`,{method:"POST",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":this.getXsrfToken()},body:JSON.stringify(t)});return await this.handleJsonResponse(o)}async fetchPatch(e,t){const n=this.getBaseUrl();const s=String(e).trim().replace(/^\/+/,"");const o=await fetch(`${n}/${s}`,{method:"PATCH",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":this.getXsrfToken()},body:JSON.stringify(t)});return await this.handleJsonResponse(o)}async fetchPut(e,t){const n=this.getBaseUrl();const s=String(e).trim().replace(/^\/+/,"");const o=await fetch(`${n}/${s}`,{method:"PUT",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":this.getXsrfToken()},body:JSON.stringify(t)});return await this.handleJsonResponse(o)}async fetchDelete(e,t){const n=this.getBaseUrl();const s=String(e).trim().replace(/^\/+/,"");const o=await fetch(`${n}/${s}`,{method:"DELETE",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/json","Content-Type":"application/json","X-XSRF-TOKEN":this.getXsrfToken()},body:t?JSON.stringify(t):undefined});return await this.handleJsonResponse(o)}async fetchEntitySet(e){const t=this.getMainServiceUri();if(!t){throw new Error("[Connection] serviceUrl is not initialized.")}const n=String(e).trim().replace(/^\/+/,"");const s=await fetch(`${t}/${n}`,{method:"GET",mode:"cors",cache:"no-cache",credentials:"same-origin",redirect:"follow",referrerPolicy:"same-origin",headers:{Accept:"application/json","X-XSRF-TOKEN":this.getXsrfToken()}});const o=await this.handleJsonResponse(s);return o.value}async handleJsonResponse(e){let t=null;if(e.status!==204){try{t=await e.json()}catch(e){t=null}}if(!e.ok){const n=new Error(e.statusText);n.status=e.status;n.cause=t;throw n}return t}async handleTextResponse(e){let t=null;if(e.status!==204){try{t=await e.text()}catch(e){t=null}}if(!e.ok){const n=new Error(e.statusText);n.status=e.status;n.cause=t;throw n}return t}}});
sap.ui.predefine("com/laravelui5/core/Context", ["sap/ui/core/Control"],function(e){"use strict";return e.extend("com.laravelui5.core.Context",{metadata:{properties:{uuid:{type:"string"},showIndicator:{type:"boolean",defaultValue:true}},aggregations:{content:{type:"sap.ui.core.Control",multiple:true}},defaultAggregation:"content"},renderer:{apiVersion:2,render:function(e,t){e.openStart("help-context",t);e.attr("data-help-uuid",t.getUuid());e.openEnd();let n=t.getContent()||[];for(let t=0;t<n.length;t++){e.renderControl(n[t])}if(t.getShowIndicator&&t.getShowIndicator()){e.openStart("div");e.class("help-indicator");e.attr("data-help-uuid",t.getUuid());e.attr("data-help-trigger","");e.openEnd();e.openStart("lux-icon");e.attr("name","help");e.openEnd();e.close("lux-icon");e.close("div")}e.close("help-context")}}})});
sap.ui.predefine("com/laravelui5/core/LaravelUi5", ["com/laravelui5/core/Connection"],function(e){"use strict";let t=null;let r=null;let n={};let a=null;let i;const l=new Promise(e=>{i=e});const o={init(a){t=a;const l=t.getManifestEntry("/sap.app/dataSources/mainService/uri");r=new e(l);n=t.getManifestEntry("/laravel.ui5/settings")||{};i();return Promise.resolve()},ready(){return l},can(e){return a?a.can(e):true},authorize(e){return a?a.authorize(e):true},getPartner(){return a?a.getPartner():null},getAuthenticatedPartner(){return a?a.getAuthenticatedPartner():null},getRepresentations(){return a?a.getRepresentations():[]},settings(){return a?a.settings():n},getSetting(e){return a?a.getSetting(e):n[e]},getClient(){return a?a.getClient():null},showHelp(e,t=null){a?.showHelp(e,t)},attach(e,t){a?.attach(e,t)},detach(e,t){a?.detach(e,t)},log(e,t,r){a?a.log(e,t,r):console.log("[LaravelUi5/Core] log: "+e,t)},async call(e,n={},a=null){if(!t)throw new Error("[LaravelUi5] Not initialized.");const i=t.getManifestEntry("/laravel.ui5/actions")||{};const l=i[e];if(!l)throw new Error(`[LaravelUi5] Unknown action '${e}'`);const o=l.url.replace(/{(\w+)}/g,(e,t)=>{if(!(t in n))throw new Error(`[LaravelUi5] Missing param '${t}'`);return encodeURIComponent(n[t])});const u=(l.method||"POST").toUpperCase();const c=`fetch${u.charAt(0)}${u.slice(1).toLowerCase()}`;if(typeof r[c]!=="function"){throw new Error(`[LaravelUi5] Unsupported HTTP method '${u}'`)}return await r[c](o,a)},get(e){return r.fetchGet(e)},post(e,t){return r.fetchPost(e,t)},put(e,t){return r.fetchPut(e,t)},patch(e,t){return r.fetchPatch(e,t)},delete(e,t){return r.fetchDelete(e,t)},fetchXml(e){return r.fetchXml(e)},fetchHtml(e){return r.fetchHtml(e)},fetchEntitySet(e){return r.fetchEntitySet(e)},getMainServiceUri(){return r.getMainServiceUri()},getBaseUrl(){return r.getBaseUrl()}};o.__extend=(e,n,l)=>{if(e){t=e}if(n){r=n}if(l){a=l}i()};return o});
/*!
 * ${copyright}
 */
sap.ui.predefine("com/laravelui5/core/library", ["sap/base/util/ObjectPath","sap/ui/core/library"],function(e){"use strict";sap.ui.getCore().initLibrary({name:"com.laravelui5.core",version:"3.1.0",dependencies:["sap.ui.core"],types:[],interfaces:[],controls:[],elements:["com.laravelui5.core.BaseComponent","com.laravelui5.core.BaseController","com.laravelui5.core.Connection","com.laravelui5.core.Context","com.laravelui5.core.LaravelUi5"],noLibraryCSS:true});return e.get("com.laravelui5.core")});
sap.ui.require.preload({
	"com/laravelui5/core/manifest.json":'{"_version":"1.21.0","sap.app":{"id":"com.laravelui5.core","type":"library","embeds":[],"applicationVersion":{"version":"3.1.0"},"title":"Laravel Ui5 Core Library","description":"Takes care of the hard parts of integrating UI5 with Laravel: secure CSRF handling, session-aware fetch calls, and a clean way to connect your UIComponent to a backend serviceâ€”ready to use, no hassle.","resources":"resources.json","offline":true},"sap.ui":{"technology":"UI5","supportedThemes":[]},"sap.ui5":{"dependencies":{"minUI5Version":"1.136","libs":{"sap.ui.core":{"minVersion":"1.136.0"}}},"library":{"i18n":{"bundleUrl":"messagebundle.properties","supportedLocales":["","de","en"]},"css":false,"content":{"controls":[],"elements":["com.laravelui5.core.BaseComponent","com.laravelui5.core.BaseController","com.laravelui5.core.Connection","com.laravelui5.core.Context","com.laravelui5.core.LaravelUi5"],"types":[],"interfaces":[]}}}}'
});
//# sourceMappingURL=library-preload.js.map
