---
outline: deep
---

# Working with `laravel.ui5` Manifest Fragments

## What is `laravel.ui5`?

The `laravel.ui5` section inside the `manifest.json` is a Laravel-specific extension that provides backend-side metadata to your UI5 applications.

It describes features such as:

- Registered backend actions (`Ui5Action`)
- Available reports and selection screens
- Laravel-defined app routes (e.g. login, logout)
- Role and permission mappings (`abilities`)
- Tenant-specific settings and client metadata

This section is *not maintained in the frontend*, but *fully generated by Laravel*.

## How does it work?

Any UI5 app returns an instance of a `LaravelUi5ManifestInterface`.

This class is responsible for returning the full fragment that will be inserted into the `laravel.ui5` root node of your `manifest.json`.

## What comes out of the box?

The base implementation already includes the following keys:

| Key       | Description                                  |
|:----------|:---------------------------------------------|
| `actions` | All registered `Ui5Action`s of the app       |
| `reports` | All registered `Ui5Report`s of the app       |
| `routes`  | Default Laravel routes (login, logout, etc.) |
| `meta`    | Optional info like version or tenant flags   |

You don’t need to define these manually. The framework takes care of them.

## Extending it: `enhanceFragment()`

To add custom app-specific logic such as roles, abilities, or feature flags, you simply extend the base manifest and override the `enhanceFragment()` method:

```php
class MyAppManifest extends AbstractLaravelUi5Manifest
{
    protected function enhanceFragment(): array
    {
        return [
            'roles' => ['employee', 'admin', 'supervisor'],
            'abilities' => [
                'use' => ['Dashboard' => 'admin'],
                'see' => ['Reports' => ['AuditLog' => 'supervisor']]
            ],
            'settings' => [
                'featureFlags' => ['timesheet' => true]
            ]
        ];
    }
}
```

These values will be automatically merged and validated.

## Safe by design

Only known and supported keys are allowed in the fragment. If you include an unknown or misspelled key (e.g. `foobar` or `abilties`), you’ll get a clear exception during runtime.

Currently supported keys are:

* `actions`
* `reports`
* `routes`
* `meta`
* `roles`
* `abilities`
* `settings`

This list is managed centrally via the `LaravelUi5ManifestKeys` class and may grow over time.

## Sample output

```jsonc
{
  "laravel.ui5": {
    "actions": {
      "toggleLock": {
        "method": "POST",
        "url": "/ui5/user/lock/{id}"
      }
    },
    "routes": {
      "login": "/auth/login",
      "logout": "/auth/logout"
    },
    "roles": ["employee", "admin"],
    "abilities": {
      "act": {
        "deleteOffer": "admin"
      }
    },
    "meta": {
      "tenant": "Acme Inc.",
      "version": "v1.2.3"
    }
  }
}
```

## Summary

The `laravel.ui5` manifest fragment is the unified place for Laravel-to-UI5 metadata. It is:

* Server-generated
* Fully structured and validated
* Extensible through subclassing
* Deeply integrated into the LaravelUi5 SDK

If your UI5 app needs business-specific permissions or behaviors, this is the cleanest and most powerful place to define them.
