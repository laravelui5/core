import{_ as i,c as e,o as t,ag as a}from"./chunks/framework.C4nOkCZI.js";const k=JSON.parse('{"title":"Ui5Registry — Central Coordination and Introspection Service","description":"","frontmatter":{"outline":"deep"},"headers":[],"relativePath":"guide/backend/registry.md","filePath":"guide/backend/registry.md"}'),n={name:"guide/backend/registry.md"};function l(r,s,o,h,p,d){return t(),e("div",null,[...s[0]||(s[0]=[a(`<h1 id="ui5registry-—-central-coordination-and-introspection-service" tabindex="-1">Ui5Registry — Central Coordination and Introspection Service <a class="header-anchor" href="#ui5registry-—-central-coordination-and-introspection-service" aria-label="Permalink to &quot;Ui5Registry — Central Coordination and Introspection Service&quot;">​</a></h1><blockquote><p><strong>Since v1.1.0</strong> The <code>Ui5Registry</code> provides full introspection support (Roles, Abilities, Settings, SemanticObjects) and hybrid semantic link discovery between Eloquent models.</p></blockquote><p>The <code>Ui5Registry</code> is the central coordination and introspection service of the LaravelUi5 ecosystem. It provides a unified API to discover, inspect, and resolve all UI5-related modules, artifacts, and metadata within a Laravel application.</p><p>It serves as the <strong>semantic backbone</strong> of the system, connecting static configuration, runtime reflection, and UI5 resource resolution into a single coherent model.</p><h2 id="responsibilities" tabindex="-1">Responsibilities <a class="header-anchor" href="#responsibilities" aria-label="Permalink to &quot;Responsibilities&quot;">​</a></h2><ul><li>Configuration-based declaration of UI5 modules and their artifacts</li><li>Metadata introspection for Roles, Abilities, Settings, and SemanticObjects</li><li>Semantic link discovery between models (explicit and inferred)</li><li>Fast runtime resolution of modules and artifacts</li><li>Central service for manifest generation, routing, and navigation</li></ul><h2 id="system-rules" tabindex="-1">System Rules <a class="header-anchor" href="#system-rules" aria-label="Permalink to &quot;System Rules&quot;">​</a></h2><ul><li>Every module must have a <strong>unique slug</strong></li><li>Every artifact must have a <strong>globally unique namespace</strong></li><li>Artifacts are only accessible via their registered module or full namespace</li><li>Semantic links may only target models that are registered as SemanticObjects</li></ul><h2 id="layer-overview" tabindex="-1">Layer Overview <a class="header-anchor" href="#layer-overview" aria-label="Permalink to &quot;Layer Overview&quot;">​</a></h2><p>The <code>Ui5Registry</code> operates in three logical layers.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Layer</th><th style="text-align:left;">Description</th><th style="text-align:left;">Example Methods</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Lookup Layer</strong></td><td style="text-align:left;">Provides lookup and resolution of modules and artifacts</td><td style="text-align:left;"><code>getModule()</code>, <code>get()</code>, <code>all()</code></td></tr><tr><td style="text-align:left;"><strong>Introspection Layer</strong></td><td style="text-align:left;">Reflects and collects metadata from PHP attributes</td><td style="text-align:left;"><code>roles()</code>, <code>abilities()</code>, <code>settings()</code>, <code>objects()</code></td></tr><tr><td style="text-align:left;"><strong>Runtime Layer</strong></td><td style="text-align:left;">Provides runtime path and intent resolution for UI5 and manifest generation</td><td style="text-align:left;"><code>slugFor()</code>, <code>resolve()</code>, <code>resolveIntents()</code></td></tr></tbody></table><h3 id="lookup-layer" tabindex="-1">Lookup Layer <a class="header-anchor" href="#lookup-layer" aria-label="Permalink to &quot;Lookup Layer&quot;">​</a></h3><p>Handles registration and retrieval of modules and artifacts at runtime. Modules are indexed by slug, artifacts by namespace.</p><p>Example usage:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$module </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $registry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">getModule</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$artifact </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $registry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">get</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.laravelui5.users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><h3 id="introspection-layer" tabindex="-1">Introspection Layer <a class="header-anchor" href="#introspection-layer" aria-label="Permalink to &quot;Introspection Layer&quot;">​</a></h3><p>The introspection layer discovers metadata via PHP attributes declared on modules and artifacts. It collects the following categories.</p><table tabindex="0"><thead><tr><th style="text-align:left;">Category</th><th style="text-align:left;">Attribute</th><th style="text-align:left;">Description</th></tr></thead><tbody><tr><td style="text-align:left;"><strong>Roles</strong></td><td style="text-align:left;"><code>#[Role]</code></td><td style="text-align:left;">Declares roles within a module</td></tr><tr><td style="text-align:left;"><strong>Abilities</strong></td><td style="text-align:left;"><code>#[Ability]</code></td><td style="text-align:left;">Declares abilities on backend actions</td></tr><tr><td style="text-align:left;"><strong>Settings</strong></td><td style="text-align:left;"><code>#[Setting]</code></td><td style="text-align:left;">Declares configurable module settings</td></tr><tr><td style="text-align:left;"><strong>Semantic Objects</strong></td><td style="text-align:left;"><code>#[SemanticObject]</code></td><td style="text-align:left;">Declares the semantic model and available navigation routes</td></tr></tbody></table><p>Since v1.1.0, Abilities and Settings are discovered dynamically for every artifact registered within a module. The data is cached internally for fast lookup and later used in manifest.json generation.</p><h3 id="runtime-layer" tabindex="-1">Runtime Layer <a class="header-anchor" href="#runtime-layer" aria-label="Permalink to &quot;Runtime Layer&quot;">​</a></h3><p>The runtime layer is responsible for path resolution, intent discovery, and runtime linking of UI5 resources. It bridges the reflection-based metadata with actual runtime routes and assets.</p><p><strong>Responsibilities</strong></p><ul><li>Resolving artifacts and resource paths by slug</li><li>Mapping namespaces to modules</li><li>Exposing semantic navigation routes for manifest.json</li><li>Generating UI5 resource roots for bootstrap configuration</li><li>Providing reverse-intent resolution between linked SemanticObjects</li></ul><h2 id="semantic-links" tabindex="-1">Semantic Links <a class="header-anchor" href="#semantic-links" aria-label="Permalink to &quot;Semantic Links&quot;">​</a></h2><p><em>Starting with v1.1.0</em>, the Registry supports <strong>hybrid semantic link discovery</strong>. Links between SemanticObjects can be declared explicitly via <code>#[SemanticLink(model: Target::class)]</code> or inferred automatically from Eloquent relations (<code>belongsTo</code>, <code>hasOne</code>).</p><p>This hybrid approach keeps the system ORM-agnostic yet fully aware of semantic relationships, allowing cross-module navigation without database constraints.</p><p>Example:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">#[</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">SemanticLink</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">public</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> function</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;"> user</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">()</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">:</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> BelongsTo</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">{</span></span>
<span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">    return</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> $this</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">belongsTo</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">User</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">::class</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">}</span></span></code></pre></div><h2 id="semantic-intents" tabindex="-1">Semantic Intents <a class="header-anchor" href="#semantic-intents" aria-label="Permalink to &quot;Semantic Intents&quot;">​</a></h2><p>The <code>resolveIntents()</code> method provides navigation intents based on registered SemanticObjects and discovered SemanticLinks. It reverses the direction of declared links and returns all routes that <em>point to</em> the given module.</p><p>Example:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$intents </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $registry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolveIntents</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span></code></pre></div><p>Output:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">[</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  &quot;Order&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    &quot;details&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> [</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;label&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;"> =&gt;</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &quot;Order Details&quot;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">,</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">      &quot;icon&quot;</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  =&gt;</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> null</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">    ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">  ]</span></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]</span></span></code></pre></div><p>This result indicates that <strong>Orders</strong> link to <strong>Users</strong>, and exposes their navigable intents (e.g., “Order Details” in the UI).</p><h2 id="resource-resolution" tabindex="-1">Resource Resolution <a class="header-anchor" href="#resource-resolution" aria-label="Permalink to &quot;Resource Resolution&quot;">​</a></h2><p>The registry also resolves resource roots and versioned UI5 paths for module assets.</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$path </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $registry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolve</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">(</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.laravelui5.users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">// =&gt; /ui5/app/users/1.0.0</span></span>
<span class="line"></span>
<span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$roots </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $registry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">resolveRoots</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">([</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.laravelui5.users&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">, </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&#39;com.laravelui5.offers&#39;</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">]);</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">/*</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">[</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &quot;com.laravelui5.users&quot;  =&gt; &quot;/ui5/app/users/1.0.0&quot;,</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">  &quot;com.laravelui5.offers&quot; =&gt; &quot;/ui5/app/offers/1.0.0&quot;</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">]</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">*/</span></span></code></pre></div><h2 id="introspection-summary" tabindex="-1">Introspection Summary <a class="header-anchor" href="#introspection-summary" aria-label="Permalink to &quot;Introspection Summary&quot;">​</a></h2><p>The <code>introspect()</code> method returns a snapshot of the registry’s internal state:</p><div class="language-php vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">php</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">$data </span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> $registry</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">-&gt;</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">introspect</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">();</span></span></code></pre></div><p>Structure:</p><ul><li><code>modules</code></li><li><code>artifacts</code></li><li><code>namespaceToModule</code></li><li><code>slugs</code></li><li><code>roles</code></li><li><code>abilities</code></li><li><code>objects</code></li><li><code>links</code></li></ul><h2 id="final-notes" tabindex="-1">Final Notes <a class="header-anchor" href="#final-notes" aria-label="Permalink to &quot;Final Notes&quot;">​</a></h2><p>Since v1.1.0, the <code>Ui5Registry</code> forms the introspective backbone of the LaravelUi5 Core, bridging static metadata, runtime reflection, and UI5 integration through a unified semantic graph.</p>`,45)])])}const g=i(n,[["render",l]]);export{k as __pageData,g as default};
